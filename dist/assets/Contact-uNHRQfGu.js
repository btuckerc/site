import{j as e}from"./motion-sbHDgT0E.js";import{r as o}from"./vendor-CDaM45aE.js";import{_ as N,H as S}from"./index-ChBDYSMw.js";import{C as E}from"./CloseButton-B4IkFE74.js";const C=["viagra","cialis","casino","poker","lottery","winner","congratulations","click here","buy now","limited time","act now","urgent","immediate","make money","work from home","get rich","free money","no investment","weight loss","lose weight","diet pills","miracle","guaranteed","credit card","loan","debt","consolidation","refinance","enlarge","penis","sex","porn","adult","dating","nigerian prince","inheritance","lottery win","prize","pharmacy","prescription","medication","drugs","seo service","backlink","rank higher","google ranking","crypto","bitcoin","investment opportunity","trading","click this link","visit our website","special offer"],I=[/\d{10,}@/,/[a-z]{1,2}\d{6,}@/,/temp|test|fake|spam/i],i={maxSubmissions:3,timeWindow:60*60*1e3,storageKey:"contact_form_submissions"},j=t=>{if(!t)return!1;const r=t.toLowerCase();return C.some(s=>r.includes(s.toLowerCase()))},_=t=>{if(!t)return!1;const r=t.toLowerCase();for(const s of I)if(s.test(r))return!0;return!!j(r)},F=()=>{try{const t=localStorage.getItem(i.storageKey);if(!t)return{allowed:!0,remaining:i.maxSubmissions};const r=JSON.parse(t),s=Date.now(),n=r.filter(c=>s-c<i.timeWindow);if(n.length>=i.maxSubmissions){const c=Math.min(...n),d=i.timeWindow-(s-c);return{allowed:!1,remaining:0,minutesUntilReset:Math.ceil(d/(60*1e3))}}return localStorage.setItem(i.storageKey,JSON.stringify(n)),{allowed:!0,remaining:i.maxSubmissions-n.length}}catch(t){return console.warn("Rate limit check failed:",t),{allowed:!0,remaining:i.maxSubmissions}}},T=()=>{try{const t=localStorage.getItem(i.storageKey),r=t?JSON.parse(t):[];r.push(Date.now());const s=Date.now(),n=r.filter(c=>s-c<i.timeWindow);localStorage.setItem(i.storageKey,JSON.stringify(n))}catch(t){console.warn("Failed to record submission:",t)}},R=(t,r=3)=>(Date.now()-t)/1e3>=r,L=(t,r)=>{const s=[];if(t.website&&t.website.trim()!=="")return s.push("Spam detected: honeypot field filled"),{isSpam:!0,errors:s};const n=F();return n.allowed?R(r,3)?_(t.email)?(s.push("Invalid email address"),{isSpam:!0,errors:s}):j(t.message)?(s.push("Message contains inappropriate content"),{isSpam:!0,errors:s}):j(t.name)?(s.push("Invalid name"),{isSpam:!0,errors:s}):{isSpam:!1,errors:[]}:(s.push("Form filled too quickly. Please take your time."),{isSpam:!0,errors:s}):(s.push(`Rate limit exceeded. Please try again in ${n.minutesUntilReset} minute(s).`),{isSpam:!0,errors:s})},v={serviceId:"service_9ijf6pt",templateId:"template_kisqffg",publicKey:"Aoy6scrgmslET_6rD",enabled:!0},O=async t=>{const r=await N(()=>import("./index-CQgKCrt3.js"),[]),s={from_name:t.name,from_email:t.email,message:t.message,to_email:"hello@tuckercraig.dev"};try{return await r.send(v.serviceId,v.templateId,s,v.publicKey),{success:!0}}catch(n){throw console.error("EmailJS error:",n),new Error("Failed to send email. Please try again later.")}},P=async t=>{try{return await O(t)}catch(r){console.warn("EmailJS failed, trying Formspree:",r)}throw new Error("No email service configured. Please set up EmailJS or Formspree.")},D=()=>{const[t,r]=o.useState({name:"",email:"",message:"",website:""}),[s,n]=o.useState({}),[c,d]=o.useState(!1),[p,u]=o.useState(null),[m,w]=o.useState(!0),x=o.useRef(Date.now());o.useEffect(()=>{m&&(x.current=Date.now())},[m]);const y=()=>{const a={};return t.name.trim()||(a.name="name required"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(a.email="invalid email format"):a.email="email required",t.message.trim()?t.message.trim().length<10&&(a.message="message too short (min 10 chars)"):a.message="message required",n(a),Object.keys(a).length===0},b=a=>{const{name:l,value:g}=a.target;r(f=>({...f,[l]:g})),s[l]&&n(f=>({...f,[l]:""}))},k=async a=>{if(a.preventDefault(),n({}),!y())return;const l=L(t,x.current);if(l.isSpam){n({general:l.errors[0]||"spam detected"});return}d(!0);try{await P({name:t.name.trim(),email:t.email.trim(),message:t.message.trim()}),T(),u("success"),r({name:"",email:"",message:"",website:""}),x.current=Date.now(),setTimeout(()=>u(null),5e3)}catch(g){console.error("Form submission error:",g),u("error"),n({general:g.message||"failed to send message. please try again."})}finally{d(!1)}},h=()=>{r({name:"",email:"",message:"",website:""}),n({}),u(null),x.current=Date.now()};return e.jsxs("div",{className:"border border-line bg-card-bg p-5 font-mono",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>w(!m),className:"text-accent text-base mb-2 font-semibold flex items-center gap-2 hover:text-fg transition-colors focus:outline-none focus-visible:ring-1 focus-visible:ring-accent",children:[e.jsx("span",{children:m?"▼":"▶"}),e.jsx("span",{children:"send message"})]})}),m&&e.jsx(e.Fragment,{children:p==="success"?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"text-accent text-3xl mb-3",children:"✓"}),e.jsx("div",{className:"text-fg text-base mb-2",children:"message sent"}),e.jsx("div",{className:"text-muted text-sm mb-4",children:"i'll get back to you soon"}),e.jsx("button",{onClick:h,className:"text-base text-accent hover:text-fg transition-colors",children:"send another →"})]}):p==="error"?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"text-red-500 text-3xl mb-3",children:"✗"}),e.jsx("div",{className:"text-fg text-base mb-2",children:"send failed"}),e.jsx("div",{className:"text-muted text-sm mb-4",children:s.general||"please try again later"}),e.jsx("button",{onClick:h,className:"text-base text-accent hover:text-fg transition-colors",children:"try again →"})]}):e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("input",{type:"text",name:"website",value:t.website,onChange:b,tabIndex:"-1",autoComplete:"off",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},"aria-hidden":"true"}),s.general&&e.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500 text-red-500 text-sm",children:s.general}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-base text-muted mb-2",children:"name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:b,className:`w-full px-3 py-2 bg-bg border ${s.name?"border-red-500":"border-line"} focus:border-accent focus:outline-none transition-colors text-fg text-base`,placeholder:"your name"}),s.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-base text-muted mb-2",children:"email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:b,className:`w-full px-3 py-2 bg-bg border ${s.email?"border-red-500":"border-line"} focus:border-accent focus:outline-none transition-colors text-fg text-base`,placeholder:"you@example.com"}),s.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-base text-muted mb-2",children:"message *"}),e.jsx("textarea",{id:"message",name:"message",rows:2,value:t.message,onChange:b,className:`w-full px-3 py-2 bg-bg border ${s.message?"border-red-500":"border-line"} focus:border-accent focus:outline-none transition-colors resize-vertical text-fg text-base`,placeholder:"your message here...",style:{minHeight:"5rem"}}),s.message&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.message})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-3 bg-accent/10 border border-accent text-accent hover:bg-accent hover:text-bg disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-base font-medium",children:c?"sending...":"send →"}),e.jsx("button",{type:"button",onClick:h,className:"px-4 py-3 border border-line text-muted hover:text-fg hover:border-accent transition-colors text-base",children:"reset"})]})]})})]})},U=()=>{const[t,r]=o.useState(!0),[s,n]=o.useState(!0);return e.jsxs(e.Fragment,{children:[e.jsxs(S,{children:[e.jsx("title",{children:"Contact Tucker Craig - FinOps Engineer & Full-Stack Developer"}),e.jsx("meta",{name:"description",content:"Get in touch with Tucker Craig - FinOps Engineer at Box. Reach out via email or connect on LinkedIn, GitHub, Twitter, Spotify, and SoundCloud."}),e.jsx("meta",{property:"og:title",content:"Contact Tucker Craig"}),e.jsx("meta",{property:"og:description",content:"Connect with Tucker Craig - FinOps Engineer at Box. Email, LinkedIn, GitHub, and social media links available."}),e.jsx("meta",{property:"og:url",content:"https://btuckerc.dev/contact"}),e.jsx("link",{rel:"canonical",href:"https://btuckerc.dev/contact"})]}),e.jsx("div",{className:"min-h-screen pt-20 pb-24 px-4",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-6 relative",children:[e.jsx("div",{className:"absolute top-0 left-0",children:e.jsx(E,{})}),e.jsx("div",{className:"text-center",children:e.jsxs("h1",{className:"text-xl font-bold text-fg font-mono",children:[e.jsx("span",{className:"text-accent",children:"["})," contact ",e.jsx("span",{className:"text-accent",children:"]"})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"border border-line bg-card-bg p-5 font-mono",children:e.jsxs("div",{className:"space-y-4 text-base",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>r(!t),className:"text-accent mb-2 font-semibold flex items-center gap-2 hover:text-fg transition-colors focus:outline-none focus-visible:ring-1 focus-visible:ring-accent",children:[e.jsx("span",{children:t?"▼":"▶"}),e.jsx("span",{children:"email"})]}),t&&e.jsx("div",{className:"pl-3",children:e.jsx("a",{href:"mailto:hello@tuckercraig.dev",className:"text-muted hover:text-accent transition-colors",children:"hello@tuckercraig.dev"})})]}),e.jsxs("div",{className:"border-t border-line pt-4",children:[e.jsxs("button",{onClick:()=>n(!s),className:"text-accent mb-3 font-semibold flex items-center gap-2 hover:text-fg transition-colors focus:outline-none focus-visible:ring-1 focus-visible:ring-accent",children:[e.jsx("span",{children:s?"▼":"▶"}),e.jsx("span",{children:"links"})]}),s&&e.jsxs("div",{className:"pl-3 space-y-2",children:[e.jsx("a",{href:"https://www.linkedin.com/in/tucker-craig/",target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 bg-accent/10 border border-accent/30 text-accent hover:bg-accent hover:text-bg transition-colors",children:"linkedin →"}),e.jsx("a",{href:"https://github.com/btuckerc",target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 bg-accent/10 border border-accent/30 text-accent hover:bg-accent hover:text-bg transition-colors",children:"github →"}),e.jsx("a",{href:"http://x.com/btuckerc",target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 bg-accent/10 border border-accent/30 text-accent hover:bg-accent hover:text-bg transition-colors",children:"twitter →"})]})]})]})})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(D,{})})]})]})})]})};export{U as default};
